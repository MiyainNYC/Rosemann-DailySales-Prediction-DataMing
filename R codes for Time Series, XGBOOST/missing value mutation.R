table(merge$CompetitionOpenSinceMonth)
table(merge$CompetitionOpenSinceYear)
subset(merge,merge$Promo2SinceYear ==2015 && merge$CompetitionOpenSinceMonth>7)
subset1 = subset(merge,merge$Promo2SinceYear ==2015)
table(subset1$CompetitionOpenSinceMonth)
str(subset1$CompetitionOpenSinceYear)
subset1 = subset(merge,merge$Promo2SinceYear =2015)
subset1 = subset(merge,merge$Promo2SinceYear == 2015)
str(subset1$CompetitionOpenSinceYear)
subset1 = subset(merge,merge$Promo2SinceYear == '2015')
str(subset1$CompetitionOpenSinceYear)
subset1 = subset(merge,merge$CompetitionOpenSinceYear == '2015')
str(subset1$CompetitionOpenSinceYear)
table(subset1$CompetitionOpenSinceMonth)
merge$howlongforcompetition = paste(merge$CompetitionOpenSinceYear,merge$CompetitionOpenSinceMonth,sep = '.')
summary(merge$howlongforcompetition)
str(merge$howlongforcompetition)
merge$competitiontimesofar = mutate(2015.9-merge$howlongforcompetition)
merge$competitiontimesofar = mutate(rep(2015.9,nroww(merge$howlongforcompetition))-merge$howlongforcompetition)
merge$competitiontimesofar = mutate(rep(2015.9,nrow(merge$howlongforcompetition))-merge$howlongforcompetition)
merge$competitiontimesofar = mutate(rep(2015.9,nrow(merge$howlongforcompetition))-as.numeric(merge$howlongforcompetition))
merge$competitiontimesofar = mutate(rep(2015.9,nrow(merge$howlongforcompetition))-as.numeric(merge$howlongforcompetition))
merge$competitiontimesofar = mutate(2015.9-as.numeric(merge$howlongforcompetition))
library(dplyr)
merge$competitiontimesofar = mutate(2015.9-as.numeric(merge$howlongforcompetition))
mutate(merge,2015.9-as.numeric(merge$howlongforcompetition))
x = mutate(merge,2015.9-as.numeric(merge$howlongforcompetition))
str(merge$howlongforcompetition)
is.na(merge$howlongforcompetition)
table(is.na(merge$howlongforcompetition))
x = mutate(merge,2015.9-as.numeric(merge$howlongforcompetition))
x = mutate(merge,2015.9-as.numeric(howlongforcompetition))
x = mutate(merge,rep(2015.9,nrow(merge$howlongforcompetition))-as.numeric(merge$howlongforcompetition))
str(merge)
table(merge$Promo2SinceYear)
length(merge$CompetitionOpenSinceYear,rm.na = TRUE)
nrow(merge$CompetitionOpenSinceYear,rm.na = TRUE)
sum(table(merge$Promo2SinceYear))
table(merge$Promo2SinceWeek)
merge$howlongPromo2YearWeek  = paste(merge$Promo2SinceYear,merge$Promo2SinceWeek,sep = '.')
table(merge$howlongPromo2YearWeek)
sum(table(merge$howlongPromo2YearWeek))

nrow(merge)

write.csv(merge,"merge.csv")
merge$X = rep(2015.9,nrow(merge))
